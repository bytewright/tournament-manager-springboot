<html>

<head>
    <title>Vue.js Pet Depot</title>
    <script src="https://unpkg.com/vue"></script>
    <link rel="stylesheet" type="text/css" href="assets/css/app.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
          crossorigin="anonymous">
    <meta charset="UTF-8">
</head>
<body>
<div id="app">
    <header>
        <div class="navbar navbar-default">
            <div class="navbar-header">
                <h1 v-text="sitename"></h1>
            </div>
        </div>
    </header>
    <main>
        <div class="row" v-for="tournament in tournaments">
            <p v-text="tournament.name"></p>
            <p v-text="tournament.startDate"></p>
            <p v-text="tournament.endDate"></p>
            <hr/>
        </div>
        <div class="row" v-for="product in products">
            <p v-text="product.title"></p>
            <p v-text="product.description"></p>
            <p v-text="product.price"></p>
            <hr/>
        </div>
        <h1>all tournaments listed</h1>

    </main>

</div>
<script type="text/javascript">
    var APP_LOG_LIFECYCLE_EVENTS = true;
    var webstore = new Vue({
        el: '#app',
        data: {
            sitename: "Vue.js Pet Depot",
            product: {
                id: 1001,
                title: "Cat Food, 25lb bag",
                description: "A 25 pound bag of <em>irresistible</em>," + " organic goodness for your cat.",
                price: 2000,
                image: "assets/images/product-fullsize.png"
            },
            tournaments: [],
            products: []
        },
        created: function () {
            this.products.push(this.product);
            console.log("created");
            const that = this;
            fetch('https://localhost:8443/tournaments/list/', {
                method: 'get'
            }).then(function (jsonRaw) {
                return jsonRaw.json();
            }).then(function (json) {
                that.tournaments = json["tournaments"];
                console.log(that.tournaments);
            }).catch(function (err) {
                console.log("error: " + err)
            });
        }
    });

</script>
</body>

</html>